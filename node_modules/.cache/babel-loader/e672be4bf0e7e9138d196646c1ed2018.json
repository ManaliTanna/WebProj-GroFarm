{"ast":null,"code":"var _jsxFileName = \"C:\\\\MANALI\\\\PES\\\\SEM3\\\\WebTech\\\\PROJECTS\\\\Final\\\\src\\\\components\\\\edit-product.component.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Navbar from \"../components/navbar.component\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nexport default class EditExercise extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fileSelectedHandler = event => {\n      this.setState({\n        file: event.target.files[0]\n      });\n    };\n\n    this.filesSelectedHandler = event => {\n      this.setState({\n        files: event.target.files\n      });\n    };\n\n    this.onChangeProduct = this.onChangeProduct.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeType = this.onChangeType.bind(this);\n    this.onChangePrice = this.onChangePrice.bind(this);\n    this.onChangeSeason = this.onChangeSeason.bind(this);\n    this.onChangeSale = this.onChangeSale.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      product: \"\",\n      description: \"\",\n      type: \"\",\n      price: \"\",\n      season: \"\",\n      onSale: false,\n      file: \"\",\n      files: \"\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/products/\" + this.props.match.params.id).then(response => {\n      this.setState({\n        product: response.data.product,\n        description: response.data.description,\n        type: response.data.type,\n        price: response.data.price,\n        season: response.data.season,\n        onSale: response.data.onsale\n      });\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  onChangeProduct(e) {\n    this.setState({\n      product: e.target.value\n    });\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  onChangeType(e) {\n    this.setState({\n      type: e.target.value\n    });\n    console.log(this.state.type);\n  }\n\n  onChangePrice(e) {\n    this.setState({\n      price: e.target.value\n    });\n  }\n\n  onChangeSeason(e) {\n    this.setState({\n      season: e.target.value\n    });\n  }\n\n  onChangeSale(e) {\n    if (this.state.onSale == true) {\n      this.setState({\n        onSale: false\n      });\n    } else {\n      this.setState({\n        onSale: true\n      });\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    console.log(this.state.product);\n    const product = {\n      product: this.state.product,\n      description: this.state.description,\n      type: this.state.type,\n      price: this.state.price,\n      season: this.state.season,\n      onSale: this.state.onSale\n    };\n    console.log(product);\n    axios.post(\"http://localhost:5000/products/update/\" + this.props.match.params.id, product).then(res => {\n      console.log(res.data);\n\n      if (this.state.file) {\n        const fd = new FormData();\n        let aux = this.state.file.name.split(\".\");\n        fd.append(\"files\", this.state.file, this.props.match.params.id + \"-main.\" + aux[1]);\n        axios.post(\"http://localhost:5000/Upload/updatemainphoto/\" + this.props.match.params.id, fd).then(res => {\n          console.log(res);\n        });\n      } //\n\n\n      if (this.state.files) {\n        let data = new FormData();\n\n        for (var x = 0; x < this.state.files.length; x++) {\n          data.append(\"files\", this.state.files[x]);\n        }\n\n        axios.post(\"http://localhost:5000/Upload/uploadproductphotos/\" + this.props.match.params.id, data).then(res => {\n          console.log(res);\n        });\n      } // window.location = \"/product/\" + this.props.match.params.id;\n\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, \"Edit product\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"create-product mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, \"Product: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.product,\n      onChange: this.onChangeProduct,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }, \"Description: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.description,\n      onChange: this.onChangeDescription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, \"Type: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.type,\n      onChange: this.onChangeType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-12 d-flex p-0 justify-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, \"On Sale: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      className: \"form-control2\",\n      checked: this.state.onSale,\n      onChange: this.onChangeSale,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }, \"Price: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      value: this.state.price,\n      onChange: this.onChangePrice,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }, \"Season: \"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onChangeSeason,\n      value: this.state.season,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 19\n      }\n    }, \"Spring\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 19\n      }\n    }, \"Summer\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 19\n      }\n    }, \"Fall\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 19\n      }\n    }, \"Winter\"))), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 15\n      }\n    }, \"Main Photo : \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"ml-2\",\n      accept: \"image/x-png,image/jpeg\",\n      onChange: this.fileSelectedHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }, \"Secondary Photos : \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"ml-2\",\n      multiple: true,\n      accept: \"image/x-png,image/jpeg\",\n      onChange: this.filesSelectedHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Confirm changes\",\n      className: \"createbutton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["C:/MANALI/PES/SEM3/WebTech/PROJECTS/Final/src/components/edit-product.component.js"],"names":["React","Component","axios","Navbar","EditExercise","constructor","props","fileSelectedHandler","event","setState","file","target","files","filesSelectedHandler","onChangeProduct","bind","onChangeDescription","onChangeType","onChangePrice","onChangeSeason","onChangeSale","onSubmit","state","product","description","type","price","season","onSale","componentDidMount","get","match","params","id","then","response","data","onsale","console","log","catch","error","e","value","preventDefault","post","res","fd","FormData","aux","name","split","append","x","length","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAO,4CAAP;AAEA,eAAe,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAClDI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAsFnBC,mBAtFmB,GAsFIC,KAAD,IAAW;AAC/B,WAAKC,QAAL,CAAc;AACZC,QAAAA,IAAI,EAAEF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB;AADM,OAAd;AAGD,KA1FkB;;AAAA,SA4FnBC,oBA5FmB,GA4FKL,KAAD,IAAW;AAChC,WAAKC,QAAL,CAAc;AACZG,QAAAA,KAAK,EAAEJ,KAAK,CAACG,MAAN,CAAaC;AADR,OAAd;AAGD,KAhGkB;;AAGjB,SAAKE,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKC,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBD,IAAzB,CAA8B,IAA9B,CAA3B;AACA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKG,aAAL,GAAqB,KAAKA,aAAL,CAAmBH,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKI,cAAL,GAAsB,KAAKA,cAAL,CAAoBJ,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKK,YAAL,GAAoB,KAAKA,YAAL,CAAkBL,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKM,QAAL,GAAgB,KAAKA,QAAL,CAAcN,IAAd,CAAmB,IAAnB,CAAhB;AAEA,SAAKO,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,EADE;AAEXC,MAAAA,WAAW,EAAE,EAFF;AAGXC,MAAAA,IAAI,EAAE,EAHK;AAIXC,MAAAA,KAAK,EAAE,EAJI;AAKXC,MAAAA,MAAM,EAAE,EALG;AAMXC,MAAAA,MAAM,EAAE,KANG;AAOXlB,MAAAA,IAAI,EAAE,EAPK;AAQXE,MAAAA,KAAK,EAAE;AARI,KAAb;AAUD;;AAEDiB,EAAAA,iBAAiB,GAAG;AAClB3B,IAAAA,KAAK,CACF4B,GADH,CACO,oCAAoC,KAAKxB,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,EADnE,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClB,WAAK1B,QAAL,CAAc;AACZc,QAAAA,OAAO,EAAEY,QAAQ,CAACC,IAAT,CAAcb,OADX;AAEZC,QAAAA,WAAW,EAAEW,QAAQ,CAACC,IAAT,CAAcZ,WAFf;AAGZC,QAAAA,IAAI,EAAEU,QAAQ,CAACC,IAAT,CAAcX,IAHR;AAIZC,QAAAA,KAAK,EAAES,QAAQ,CAACC,IAAT,CAAcV,KAJT;AAKZC,QAAAA,MAAM,EAAEQ,QAAQ,CAACC,IAAT,CAAcT,MALV;AAMZC,QAAAA,MAAM,EAAEO,QAAQ,CAACC,IAAT,CAAcC;AANV,OAAd;AAQAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACD,KAZH,EAaGK,KAbH,CAaS,UAAUC,KAAV,EAAiB;AACtBH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,KAfH;AAgBD;;AAED3B,EAAAA,eAAe,CAAC4B,CAAD,EAAI;AACjB,SAAKjC,QAAL,CAAc;AACZc,MAAAA,OAAO,EAAEmB,CAAC,CAAC/B,MAAF,CAASgC;AADN,KAAd;AAGD;;AAED3B,EAAAA,mBAAmB,CAAC0B,CAAD,EAAI;AACrB,SAAKjC,QAAL,CAAc;AACZe,MAAAA,WAAW,EAAEkB,CAAC,CAAC/B,MAAF,CAASgC;AADV,KAAd;AAGD;;AACD1B,EAAAA,YAAY,CAACyB,CAAD,EAAI;AACd,SAAKjC,QAAL,CAAc;AACZgB,MAAAA,IAAI,EAAEiB,CAAC,CAAC/B,MAAF,CAASgC;AADH,KAAd;AAGAL,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWG,IAAvB;AACD;;AAEDP,EAAAA,aAAa,CAACwB,CAAD,EAAI;AACf,SAAKjC,QAAL,CAAc;AACZiB,MAAAA,KAAK,EAAEgB,CAAC,CAAC/B,MAAF,CAASgC;AADJ,KAAd;AAGD;;AAEDxB,EAAAA,cAAc,CAACuB,CAAD,EAAI;AAChB,SAAKjC,QAAL,CAAc;AACZkB,MAAAA,MAAM,EAAEe,CAAC,CAAC/B,MAAF,CAASgC;AADL,KAAd;AAGD;;AAEDvB,EAAAA,YAAY,CAACsB,CAAD,EAAI;AACd,QAAG,KAAKpB,KAAL,CAAWM,MAAX,IAAmB,IAAtB,EAA4B;AAC1B,WAAKnB,QAAL,CAAc;AACZmB,QAAAA,MAAM,EAAE;AADI,OAAd;AAGD,KAJD,MAKK;AACH,WAAKnB,QAAL,CAAc;AACZmB,QAAAA,MAAM,EAAE;AADI,OAAd;AAGD;AAEF;;AAcDP,EAAAA,QAAQ,CAACqB,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACE,cAAF;AAEAN,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWC,OAAvB;AACA,UAAMA,OAAO,GAAG;AACdA,MAAAA,OAAO,EAAE,KAAKD,KAAL,CAAWC,OADN;AAEdC,MAAAA,WAAW,EAAE,KAAKF,KAAL,CAAWE,WAFV;AAGdC,MAAAA,IAAI,EAAE,KAAKH,KAAL,CAAWG,IAHH;AAIdC,MAAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWI,KAJJ;AAKdC,MAAAA,MAAM,EAAE,KAAKL,KAAL,CAAWK,MALL;AAMdC,MAAAA,MAAM,EAAE,KAAKN,KAAL,CAAWM;AANL,KAAhB;AASAU,IAAAA,OAAO,CAACC,GAAR,CAAYhB,OAAZ;AAEArB,IAAAA,KAAK,CACF2C,IADH,CAEI,2CAA2C,KAAKvC,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,EAFvE,EAGIV,OAHJ,EAKGW,IALH,CAKSY,GAAD,IAAS;AACbR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAG,CAACV,IAAhB;;AACA,UAAI,KAAKd,KAAL,CAAWZ,IAAf,EAAqB;AACnB,cAAMqC,EAAE,GAAG,IAAIC,QAAJ,EAAX;AACA,YAAIC,GAAG,GAAG,KAAK3B,KAAL,CAAWZ,IAAX,CAAgBwC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,CAAV;AAEAJ,QAAAA,EAAE,CAACK,MAAH,CACE,OADF,EAEE,KAAK9B,KAAL,CAAWZ,IAFb,EAGE,KAAKJ,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAxB,GAA6B,QAA7B,GAAwCgB,GAAG,CAAC,CAAD,CAH7C;AAKA/C,QAAAA,KAAK,CACF2C,IADH,CAEI,kDACE,KAAKvC,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,EAH9B,EAIIc,EAJJ,EAMGb,IANH,CAMSY,GAAD,IAAS;AACbR,UAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACD,SARH;AASD,OApBY,CAqBb;;;AACA,UAAI,KAAKxB,KAAL,CAAWV,KAAf,EAAsB;AACpB,YAAIwB,IAAI,GAAG,IAAIY,QAAJ,EAAX;;AACA,aAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK/B,KAAL,CAAWV,KAAX,CAAiB0C,MAArC,EAA6CD,CAAC,EAA9C,EAAkD;AAChDjB,UAAAA,IAAI,CAACgB,MAAL,CAAY,OAAZ,EAAqB,KAAK9B,KAAL,CAAWV,KAAX,CAAiByC,CAAjB,CAArB;AACD;;AAEDnD,QAAAA,KAAK,CACF2C,IADH,CAEI,sDACE,KAAKvC,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBC,EAH9B,EAIIG,IAJJ,EAMGF,IANH,CAMSY,GAAD,IAAS;AACbR,UAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACD,SARH;AASD,OArCY,CAsCb;;AACD,KA5CH;AA6CD;;AAEDS,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAM,MAAA,QAAQ,EAAE,KAAKlC,QAArB;AAA+B,MAAA,SAAS,EAAC,qBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,SAAS,EAAC,cAHZ;AAIE,MAAA,KAAK,EAAE,KAAKC,KAAL,CAAWC,OAJpB;AAKE,MAAA,QAAQ,EAAE,KAAKT,eALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAYE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,SAAS,EAAC,cAHZ;AAIE,MAAA,KAAK,EAAE,KAAKQ,KAAL,CAAWE,WAJpB;AAKE,MAAA,QAAQ,EAAE,KAAKR,mBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAZF,eAsBE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,SAAS,EAAC,cAFZ;AAGE,MAAA,KAAK,EAAE,KAAKM,KAAL,CAAWG,IAHpB;AAIE,MAAA,QAAQ,EAAE,KAAKR,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAtBF,eA+BE;AAAK,MAAA,SAAS,EAAC,gDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,SAAS,EAAC,eAFZ;AAGE,MAAA,OAAO,EAAE,KAAKK,KAAL,CAAWM,MAHtB;AAIE,MAAA,QAAQ,EAAE,KAAKR,YAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CA/BF,CADF,eA0CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,cAFZ;AAGE,MAAA,KAAK,EAAE,KAAKE,KAAL,CAAWI,KAHpB;AAIE,MAAA,QAAQ,EAAE,KAAKR,aAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF,eAUE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,MAAA,SAAS,EAAC,cADZ;AAEE,MAAA,QAAQ,EAAE,KAAKC,cAFjB;AAGE,MAAA,KAAK,EAAE,KAAKG,KAAL,CAAWK,MAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,CAFF,CAVF,eAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAvBF,eAwBE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,SAAS,EAAC,MAFZ;AAGE,MAAA,MAAM,EAAC,wBAHT;AAIE,MAAA,QAAQ,EAAE,KAAKpB,mBAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBF,eA8BE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,eAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,SAAS,EAAC,MAFZ;AAGE,MAAA,QAAQ,MAHV;AAIE,MAAA,MAAM,EAAC,wBAJT;AAKE,MAAA,QAAQ,EAAE,KAAKM,oBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CA9BF,eAyCE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,KAAK,EAAC,iBAFR;AAGE,MAAA,SAAS,EAAC,cAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAzCF,CA1CF,CAFF,CAFF,CADF;AAoGD;;AAtQiD","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../components/navbar.component\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default class EditExercise extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeProduct = this.onChangeProduct.bind(this);\r\n    this.onChangeDescription = this.onChangeDescription.bind(this);\r\n    this.onChangeType = this.onChangeType.bind(this);\r\n    this.onChangePrice = this.onChangePrice.bind(this);\r\n    this.onChangeSeason = this.onChangeSeason.bind(this);\r\n    this.onChangeSale = this.onChangeSale.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      product: \"\",\r\n      description: \"\",\r\n      type: \"\",\r\n      price: \"\",\r\n      season: \"\",\r\n      onSale: false,\r\n      file: \"\",\r\n      files: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"http://localhost:5000/products/\" + this.props.match.params.id)\r\n      .then((response) => {\r\n        this.setState({\r\n          product: response.data.product,\r\n          description: response.data.description,\r\n          type: response.data.type,\r\n          price: response.data.price,\r\n          season: response.data.season,\r\n          onSale: response.data.onsale,\r\n        });\r\n        console.log(response);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onChangeProduct(e) {\r\n    this.setState({\r\n      product: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeDescription(e) {\r\n    this.setState({\r\n      description: e.target.value,\r\n    });\r\n  }\r\n  onChangeType(e) {\r\n    this.setState({\r\n      type: e.target.value,\r\n    });\r\n    console.log(this.state.type);\r\n  }\r\n\r\n  onChangePrice(e) {\r\n    this.setState({\r\n      price: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeSeason(e) {\r\n    this.setState({\r\n      season: e.target.value,\r\n    });\r\n  }\r\n\r\n  onChangeSale(e) {\r\n    if(this.state.onSale==true) {\r\n      this.setState({\r\n        onSale: false,\r\n      });\r\n    }\r\n    else {\r\n      this.setState({\r\n        onSale: true,\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  fileSelectedHandler = (event) => {\r\n    this.setState({\r\n      file: event.target.files[0],\r\n    });\r\n  };\r\n\r\n  filesSelectedHandler = (event) => {\r\n    this.setState({\r\n      files: event.target.files,\r\n    });\r\n  };\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    console.log(this.state.product);\r\n    const product = {\r\n      product: this.state.product,\r\n      description: this.state.description,\r\n      type: this.state.type,\r\n      price: this.state.price,\r\n      season: this.state.season,\r\n      onSale: this.state.onSale,\r\n    };\r\n\r\n    console.log(product);\r\n\r\n    axios\r\n      .post(\r\n        \"http://localhost:5000/products/update/\" + this.props.match.params.id,\r\n        product\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        if (this.state.file) {\r\n          const fd = new FormData();\r\n          let aux = this.state.file.name.split(\".\");\r\n\r\n          fd.append(\r\n            \"files\",\r\n            this.state.file,\r\n            this.props.match.params.id + \"-main.\" + aux[1]\r\n          );\r\n          axios\r\n            .post(\r\n              \"http://localhost:5000/Upload/updatemainphoto/\" +\r\n                this.props.match.params.id,\r\n              fd\r\n            )\r\n            .then((res) => {\r\n              console.log(res);\r\n            });\r\n        }\r\n        //\r\n        if (this.state.files) {\r\n          let data = new FormData();\r\n          for (var x = 0; x < this.state.files.length; x++) {\r\n            data.append(\"files\", this.state.files[x]);\r\n          }\r\n\r\n          axios\r\n            .post(\r\n              \"http://localhost:5000/Upload/uploadproductphotos/\" +\r\n                this.props.match.params.id,\r\n              data\r\n            )\r\n            .then((res) => {\r\n              console.log(res);\r\n            });\r\n        }\r\n        // window.location = \"/product/\" + this.props.match.params.id;\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar />\r\n        <div className=\"container mt-5\">\r\n          <h3>Edit product</h3>\r\n          <form onSubmit={this.onSubmit} className=\"create-product mt-5\">\r\n            <div>\r\n              <div className=\"form-group \">\r\n                <label>Product: </label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  className=\"form-control\"\r\n                  value={this.state.product}\r\n                  onChange={this.onChangeProduct}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group \">\r\n                <label>Description: </label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  className=\"form-control\"\r\n                  value={this.state.description}\r\n                  onChange={this.onChangeDescription}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Type: </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={this.state.type}\r\n                  onChange={this.onChangeType}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-12 d-flex p-0 justify-center\">\r\n                <label>On Sale: </label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"form-control2\"\r\n                  checked={this.state.onSale}\r\n                  onChange={this.onChangeSale}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div className=\"form-group\">\r\n                <label>Price: </label>\r\n                <input\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  value={this.state.price}\r\n                  onChange={this.onChangePrice}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Season: </label>\r\n                <select\r\n                  className=\"form-control\"\r\n                  onChange={this.onChangeSeason}\r\n                  value={this.state.season}\r\n                >\r\n                  <option>Spring</option>\r\n                  <option>Summer</option>\r\n                  <option>Fall</option>\r\n                  <option>Winter</option>\r\n                </select>\r\n              </div>\r\n              <label>Main Photo : </label>\r\n              <input\r\n                type=\"file\"\r\n                className=\"ml-2\"\r\n                accept=\"image/x-png,image/jpeg\"\r\n                onChange={this.fileSelectedHandler}\r\n              />\r\n              <div className=\"form-group\">\r\n                <label>Secondary Photos : </label>\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"ml-2\"\r\n                  multiple\r\n                  accept=\"image/x-png,image/jpeg\"\r\n                  onChange={this.filesSelectedHandler}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Confirm changes\"\r\n                  className=\"createbutton\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}