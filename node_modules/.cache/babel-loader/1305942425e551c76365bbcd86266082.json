{"ast":null,"code":"var _jsxFileName = \"C:\\\\MANALI\\\\PES\\\\SEM3\\\\WebTech\\\\PROJECTS\\\\MERN-project\\\\src\\\\components\\\\myorders.component.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"../../src/index.css\";\nimport Navbar from \"./navbar.component\";\nimport { getFromStorage } from \"../utils/storage\";\nimport { Modal } from \"react-bootstrap\";\n\nconst Order = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"myorder ml-2 mr-2\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"orderdate\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }\n}, \"Order date : \", props.order.createdAt), /*#__PURE__*/React.createElement(\"p\", {\n  className: \"ordernumber\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }\n}, \"Order number : \", props.order._id), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"ordercontainer d-flex flex-column align-items-center mt-3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-md-12 d-flex flex-column orderproducts align-items-center\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"d-flex w-100\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"w-50 orderamount\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 11\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: \"bold\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 13\n  }\n}, \"(\", props.order.products.length, \") \"), \" \", \"article(s)\"), /*#__PURE__*/React.createElement(\"p\", {\n  className: \"w-50 orderstatus\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 11\n  }\n}, \"Status: \", props.order.status)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"products-container\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }\n}, props.order.products.map(item => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row w-100 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }\n  }, item.product, \" - \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }\n  }, \" \", item.amount, \"kg\"));\n})))), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"ordercontainer d-flex flex-column align-items-center mt-3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-md-12 d-flex flex-column orderproducts align-items-center\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"w-100 text-center order-head-black mb-3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }\n}, \"Shipping info\"), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }\n}, \"Name: \", props.order.name), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }\n}, \"Address: \", props.order.adress), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }\n}, \"Phone number: \", props.order.phonenumber), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }\n}, \"Zip: \", props.order.zipcode))), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"trash-box\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"cart-item-delete trash-can\",\n  onClick: () => {\n    props.deleteOrder(props.order._id);\n  },\n  className: \"trash-container\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"trash\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }\n}))));\n\nconst Order2 = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"myorder ml-2 mr-2\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"orderdate\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }\n}, \"Order date : \", props.order.createdAt), /*#__PURE__*/React.createElement(\"p\", {\n  className: \"ordernumber\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }\n}, \"Order number : \", props.order._id), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"ordercontainer d-flex flex-column align-items-center mt-3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-md-12 d-flex flex-column orderproducts align-items-center\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"d-flex w-100\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"w-50 orderamount\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 11\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: \"bold\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 13\n  }\n}, \"(\", props.order.products.length, \") \"), \" \", \"article(s)\"), /*#__PURE__*/React.createElement(\"p\", {\n  className: \"w-50 orderstatus\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 11\n  }\n}, \"Status: \", props.order.status)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"products-container\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }\n}, props.order.products.map(item => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row w-100 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, item.product, \" - \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \" \", item.amount, \"kg\"));\n})))), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"ordercontainer d-flex flex-column align-items-center mt-3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-md-12 d-flex flex-column orderproducts align-items-center\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"w-100 text-center order-head-black mb-3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }\n}, \"Shipping info\"), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }\n}, \"Name: \", props.order.name), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }\n}, \"C/: \", props.order.adress), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }\n}, \" \", props.order.phonenumber), /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }\n}, \"Zip: \", props.order.zipcode))));\n\nexport default class ProductsList extends Component {\n  constructor(props) {\n    super(props);\n    this.deleteOrder = this.deleteOrder.bind(this);\n    this.openmodal = this.openmodal.bind(this);\n    this.closemodal = this.closemodal.bind(this);\n    this.deleteComment = this.deleteComment.bind(this);\n    this.state = {\n      orders: [],\n      cookie: \"\",\n      open: false,\n      idtoremove: \"\"\n    };\n  }\n\n  openmodal() {\n    this.setState({\n      open: true\n    });\n  }\n\n  closemodal() {\n    this.setState({\n      open: false,\n      idtoremove: \"\"\n    });\n  }\n\n  componentDidMount() {\n    const {\n      cookie\n    } = getFromStorage(\"the_main_app\");\n    this.setState({\n      cookie: cookie\n    });\n    axios.get(\"http://localhost:5000/Cart/getcheckout/\" + cookie._id).then(response => {\n      this.setState({\n        orders: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  deleteOrder(id) {\n    this.setState({\n      open: true,\n      idtoremove: id\n    });\n  }\n\n  deleteComment() {\n    fetch(\"http://localhost:5000/Cart/deletechechout\", {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: this.state.idtoremove,\n        userid: this.state.cookie\n      })\n    });\n    window.location = \"/myorders\";\n  }\n\n  OrderList() {\n    return this.state.orders.map(currentorder => {\n      console.log(currentorder);\n\n      if (currentorder.status == \"in preparation\") {\n        return /*#__PURE__*/React.createElement(Order, {\n          order: currentorder,\n          deleteOrder: this.deleteOrder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 16\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(Order2, {\n          order: currentorder,\n          deleteOrder: this.deleteOrder,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 16\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      cookie\n    } = this.state;\n\n    if (cookie) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container mt-5 d-flex flex-column align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"mb-5 w-100 text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }\n      }, \"My orders\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }\n      }, \" \", this.OrderList())), /*#__PURE__*/React.createElement(Modal, {\n        show: this.state.open,\n        onHide: this.closemodal,\n        centered: true,\n        size: \"lg\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Header, {\n        closeButton: true,\n        className: \"modal-head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"deletehead\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }, \"Delete Order\"))), /*#__PURE__*/React.createElement(Modal.Body, {\n        className: \"pt-4 pb-4 d-flex flex-column align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"deletebody\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }\n      }, \"Are you sure you want to \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 42\n        }\n      }, \" delete \"), \" \", \"this order, this action is\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }, \" irreversible\")), /*#__PURE__*/React.createElement(\"button\", {\n        variant: \"primary\",\n        onClick: this.deleteComment,\n        className: \"deleteorder mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }\n      }, \"Delete\"))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }\n      }, \"You must be logged in to see your orders\")));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/MANALI/PES/SEM3/WebTech/PROJECTS/MERN-project/src/components/myorders.component.js"],"names":["React","Component","axios","Navbar","getFromStorage","Modal","Order","props","order","createdAt","_id","products","length","status","map","item","product","amount","name","adress","phonenumber","zipcode","deleteOrder","Order2","ProductsList","constructor","bind","openmodal","closemodal","deleteComment","state","orders","cookie","open","idtoremove","setState","componentDidMount","get","then","response","data","catch","error","console","log","id","fetch","method","headers","body","JSON","stringify","userid","window","location","OrderList","currentorder","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,qBAAP;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,KAAT,QAAsB,iBAAtB;;AAEA,MAAMC,KAAK,GAAIC,KAAD,iBACZ;AAAK,EAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAG,EAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAuCA,KAAK,CAACC,KAAN,CAAYC,SAAnD,CADF,eAEE;AAAG,EAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA2CF,KAAK,CAACC,KAAN,CAAYE,GAAvD,CAFF,eAGE;AAAK,EAAA,SAAS,EAAC,2DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAK,EAAA,SAAS,EAAC,+DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAK,EAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAG,EAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAM,EAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAyBH,KAAK,CAACC,KAAN,CAAYG,QAAZ,CAAqBC,MAA9C,OADF,EACiE,GADjE,eADF,eAKE;AAAG,EAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAyCL,KAAK,CAACC,KAAN,CAAYK,MAArD,CALF,CADF,eAQE;AAAK,EAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACGN,KAAK,CAACC,KAAN,CAAYG,QAAZ,CAAqBG,GAArB,CAA0BC,IAAD,IAAU;AAClC,sBACE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqBA,IAAI,CAACC,OAA1B,QADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAKD,IAAI,CAACE,MAAV,OAFF,CADF;AAMD,CAPA,CADH,CARF,CADF,CAHF,eAwBE;AAAK,EAAA,SAAS,EAAC,2DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAK,EAAA,SAAS,EAAC,+DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAK,EAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAUV,KAAK,CAACC,KAAN,CAAYU,IAAtB,CALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAaX,KAAK,CAACC,KAAN,CAAYW,MAAzB,CANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAkBZ,KAAK,CAACC,KAAN,CAAYY,WAA9B,CAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAASb,KAAK,CAACC,KAAN,CAAYa,OAArB,CARF,CADF,CAxBF,eAoCE;AAAK,EAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AACE,EAAA,SAAS,EAAC,4BADZ;AAEE,EAAA,OAAO,EAAE,MAAM;AACbd,IAAAA,KAAK,CAACe,WAAN,CAAkBf,KAAK,CAACC,KAAN,CAAYE,GAA9B;AACD,GAJH;AAKE,EAAA,SAAS,EAAC,iBALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAOE;AAAG,EAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAPF,CADF,CApCF,CADF;;AAmDA,MAAMa,MAAM,GAAIhB,KAAD,iBACb;AAAK,EAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAG,EAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAuCA,KAAK,CAACC,KAAN,CAAYC,SAAnD,CADF,eAEE;AAAG,EAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA2CF,KAAK,CAACC,KAAN,CAAYE,GAAvD,CAFF,eAGE;AAAK,EAAA,SAAS,EAAC,2DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAK,EAAA,SAAS,EAAC,+DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAK,EAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAG,EAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAM,EAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAyBH,KAAK,CAACC,KAAN,CAAYG,QAAZ,CAAqBC,MAA9C,OADF,EACiE,GADjE,eADF,eAKE;AAAG,EAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAyCL,KAAK,CAACC,KAAN,CAAYK,MAArD,CALF,CADF,eAQE;AAAK,EAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACGN,KAAK,CAACC,KAAN,CAAYG,QAAZ,CAAqBG,GAArB,CAA0BC,IAAD,IAAU;AAClC,sBACE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqBA,IAAI,CAACC,OAA1B,QADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAKD,IAAI,CAACE,MAAV,OAFF,CADF;AAMD,CAPA,CADH,CARF,CADF,CAHF,eAwBE;AAAK,EAAA,SAAS,EAAC,2DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAK,EAAA,SAAS,EAAC,+DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAK,EAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAUV,KAAK,CAACC,KAAN,CAAYU,IAAtB,CALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAQX,KAAK,CAACC,KAAN,CAAYW,MAApB,CANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAKZ,KAAK,CAACC,KAAN,CAAYY,WAAjB,CAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAASb,KAAK,CAACC,KAAN,CAAYa,OAArB,CARF,CADF,CAxBF,CADF;;AAwCA,eAAe,MAAMG,YAAN,SAA2BvB,SAA3B,CAAqC;AAClDwB,EAAAA,WAAW,CAAClB,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKe,WAAL,GAAmB,KAAKA,WAAL,CAAiBI,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKG,aAAL,GAAqB,KAAKA,aAAL,CAAmBH,IAAnB,CAAwB,IAAxB,CAArB;AAEA,SAAKI,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,EADG;AAEXC,MAAAA,MAAM,EAAE,EAFG;AAGXC,MAAAA,IAAI,EAAE,KAHK;AAIXC,MAAAA,UAAU,EAAE;AAJD,KAAb;AAMD;;AAEDP,EAAAA,SAAS,GAAG;AACV,SAAKQ,QAAL,CAAc;AAAEF,MAAAA,IAAI,EAAE;AAAR,KAAd;AACD;;AACDL,EAAAA,UAAU,GAAG;AACX,SAAKO,QAAL,CAAc;AAAEF,MAAAA,IAAI,EAAE,KAAR;AAAeC,MAAAA,UAAU,EAAE;AAA3B,KAAd;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEJ,MAAAA;AAAF,QAAa5B,cAAc,CAAC,cAAD,CAAjC;AAEA,SAAK+B,QAAL,CAAc;AACZH,MAAAA,MAAM,EAAEA;AADI,KAAd;AAIA9B,IAAAA,KAAK,CACFmC,GADH,CACO,4CAA4CL,MAAM,CAACtB,GAD1D,EAEG4B,IAFH,CAESC,QAAD,IAAc;AAClB,WAAKJ,QAAL,CAAc;AACZJ,QAAAA,MAAM,EAAEQ,QAAQ,CAACC;AADL,OAAd;AAGD,KANH,EAOGC,KAPH,CAOUC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KATH;AAUD;;AAEDpB,EAAAA,WAAW,CAACuB,EAAD,EAAK;AACd,SAAKV,QAAL,CAAc;AAAEF,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,UAAU,EAAEW;AAA1B,KAAd;AACD;;AAEDhB,EAAAA,aAAa,GAAG;AACdiB,IAAAA,KAAK,CAAC,2CAAD,EAA8C;AACjDC,MAAAA,MAAM,EAAE,QADyC;AAEjDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFwC;AAKjDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBN,QAAAA,EAAE,EAAE,KAAKf,KAAL,CAAWI,UADI;AAEnBkB,QAAAA,MAAM,EAAE,KAAKtB,KAAL,CAAWE;AAFA,OAAf;AAL2C,KAA9C,CAAL;AAWAqB,IAAAA,MAAM,CAACC,QAAP,GAAkB,WAAlB;AACD;;AACDC,EAAAA,SAAS,GAAG;AACV,WAAO,KAAKzB,KAAL,CAAWC,MAAX,CAAkBjB,GAAlB,CAAuB0C,YAAD,IAAkB;AAC7Cb,MAAAA,OAAO,CAACC,GAAR,CAAYY,YAAZ;;AACA,UAAIA,YAAY,CAAC3C,MAAb,IAAuB,gBAA3B,EAA6C;AAC3C,4BAAO,oBAAC,KAAD;AAAO,UAAA,KAAK,EAAE2C,YAAd;AAA4B,UAAA,WAAW,EAAE,KAAKlC,WAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAFD,MAEO;AACL,4BAAO,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEkC,YAAf;AAA6B,UAAA,WAAW,EAAE,KAAKlC,WAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACF,KAPM,CAAP;AAQD;;AAEDmC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEzB,MAAAA;AAAF,QAAa,KAAKF,KAAxB;;AACA,QAAIE,MAAJ,EAAY;AACV,0BACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAGE;AAAK,QAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAuB,KAAKuB,SAAL,EAAvB,CAFF,CAHF,eAOE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAE,KAAKzB,KAAL,CAAWG,IADnB;AAEE,QAAA,MAAM,EAAE,KAAKL,UAFf;AAGE,QAAA,QAAQ,MAHV;AAIE,QAAA,IAAI,EAAC,IAJP;AAKE,2BAAgB,+BALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOE,oBAAC,KAAD,CAAO,MAAP;AAAc,QAAA,WAAW,MAAzB;AAA0B,QAAA,SAAS,EAAC,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF,CAPF,eAYE,oBAAC,KAAD,CAAO,IAAP;AAAY,QAAA,SAAS,EAAC,iDAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAC2B;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAD3B,EACkE,GADlE,6CAGE;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAHF,CADF,eAOE;AACE,QAAA,OAAO,EAAC,SADV;AAEE,QAAA,OAAO,EAAE,KAAKC,aAFhB;AAGE,QAAA,SAAS,EAAC,kBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CAZF,CAPF,CADF;AAsCD,KAvCD,MAuCO;AACL,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADF,CAFF,CADF;AAQD;AACF;;AA1HiD","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../../src/index.css\";\r\nimport Navbar from \"./navbar.component\";\r\nimport { getFromStorage } from \"../utils/storage\";\r\nimport { Modal } from \"react-bootstrap\";\r\n\r\nconst Order = (props) => (\r\n  <div className=\"myorder ml-2 mr-2\">\r\n    <p className=\"orderdate\">Order date : {props.order.createdAt}</p>\r\n    <p className=\"ordernumber\">Order number : {props.order._id}</p>\r\n    <div className=\"ordercontainer d-flex flex-column align-items-center mt-3\">\r\n      <div className=\"col-md-12 d-flex flex-column orderproducts align-items-center\">\r\n        <div className=\"d-flex w-100\">\r\n          <p className=\"w-50 orderamount\">\r\n            <span className=\"bold\">({props.order.products.length}) </span>{\" \"}\r\n            article(s)\r\n          </p>\r\n          <p className=\"w-50 orderstatus\">Status: {props.order.status}</p>\r\n        </div>\r\n        <div className=\"products-container\">\r\n          {props.order.products.map((item) => {\r\n            return (\r\n              <div className=\"row w-100 justify-content-center\">\r\n                <p className=\"mr-2\">{item.product} - </p>\r\n                <p> {item.amount}kg</p>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className=\"ordercontainer d-flex flex-column align-items-center mt-3\">\r\n      <div className=\"col-md-12 d-flex flex-column orderproducts align-items-center\">\r\n        <div className=\"w-100 text-center order-head-black mb-3\">\r\n          Shipping info\r\n        </div>\r\n\r\n        <p>Name: {props.order.name}</p>\r\n        <p>Address: {props.order.adress}</p>\r\n        <p>Phone number: {props.order.phonenumber}</p>\r\n        <p>Zip: {props.order.zipcode}</p>\r\n      </div>\r\n    </div>\r\n    <div className=\"trash-box\">\r\n      <div\r\n        className=\"cart-item-delete trash-can\"\r\n        onClick={() => {\r\n          props.deleteOrder(props.order._id);\r\n        }}\r\n        className=\"trash-container\"\r\n      >\r\n        <p className=\"trash\"></p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst Order2 = (props) => (\r\n  <div className=\"myorder ml-2 mr-2\">\r\n    <p className=\"orderdate\">Order date : {props.order.createdAt}</p>\r\n    <p className=\"ordernumber\">Order number : {props.order._id}</p>\r\n    <div className=\"ordercontainer d-flex flex-column align-items-center mt-3\">\r\n      <div className=\"col-md-12 d-flex flex-column orderproducts align-items-center\">\r\n        <div className=\"d-flex w-100\">\r\n          <p className=\"w-50 orderamount\">\r\n            <span className=\"bold\">({props.order.products.length}) </span>{\" \"}\r\n            article(s)\r\n          </p>\r\n          <p className=\"w-50 orderstatus\">Status: {props.order.status}</p>\r\n        </div>\r\n        <div className=\"products-container\">\r\n          {props.order.products.map((item) => {\r\n            return (\r\n              <div className=\"row w-100 justify-content-center\">\r\n                <p className=\"mr-2\">{item.product} - </p>\r\n                <p> {item.amount}kg</p>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className=\"ordercontainer d-flex flex-column align-items-center mt-3\">\r\n      <div className=\"col-md-12 d-flex flex-column orderproducts align-items-center\">\r\n        <div className=\"w-100 text-center order-head-black mb-3\">\r\n          Shipping info\r\n        </div>\r\n\r\n        <p>Name: {props.order.name}</p>\r\n        <p>C/: {props.order.adress}</p>\r\n        <p> {props.order.phonenumber}</p>\r\n        <p>Zip: {props.order.zipcode}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default class ProductsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.deleteOrder = this.deleteOrder.bind(this);\r\n    this.openmodal = this.openmodal.bind(this);\r\n    this.closemodal = this.closemodal.bind(this);\r\n    this.deleteComment = this.deleteComment.bind(this);\r\n\r\n    this.state = {\r\n      orders: [],\r\n      cookie: \"\",\r\n      open: false,\r\n      idtoremove: \"\",\r\n    };\r\n  }\r\n\r\n  openmodal() {\r\n    this.setState({ open: true });\r\n  }\r\n  closemodal() {\r\n    this.setState({ open: false, idtoremove: \"\" });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { cookie } = getFromStorage(\"the_main_app\");\r\n\r\n    this.setState({\r\n      cookie: cookie,\r\n    });\r\n\r\n    axios\r\n      .get(\"http://localhost:5000/Cart/getcheckout/\" + cookie._id)\r\n      .then((response) => {\r\n        this.setState({\r\n          orders: response.data,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  deleteOrder(id) {\r\n    this.setState({ open: true, idtoremove: id });\r\n  }\r\n\r\n  deleteComment() {\r\n    fetch(\"http://localhost:5000/Cart/deletechechout\", {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        id: this.state.idtoremove,\r\n        userid: this.state.cookie,\r\n      }),\r\n    });\r\n\r\n    window.location = \"/myorders\";\r\n  }\r\n  OrderList() {\r\n    return this.state.orders.map((currentorder) => {\r\n      console.log(currentorder);\r\n      if (currentorder.status == \"in preparation\") {\r\n        return <Order order={currentorder} deleteOrder={this.deleteOrder} />;\r\n      } else {\r\n        return <Order2 order={currentorder} deleteOrder={this.deleteOrder} />;\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { cookie } = this.state;\r\n    if (cookie) {\r\n      return (\r\n        <div className=\"gray\">\r\n          <Navbar />\r\n\r\n          <div className=\"container mt-5 d-flex flex-column align-items-center\">\r\n            <h2 className=\"mb-5 w-100 text-left\">My orders</h2>\r\n            <div className=\"row\"> {this.OrderList()}</div>\r\n          </div>\r\n          <Modal\r\n            show={this.state.open}\r\n            onHide={this.closemodal}\r\n            centered\r\n            size=\"lg\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n          >\r\n            <Modal.Header closeButton className=\"modal-head\">\r\n              <Modal.Title>\r\n                <span className=\"deletehead\">Delete Order</span>\r\n              </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className=\"pt-4 pb-4 d-flex flex-column align-items-center\">\r\n              <span className=\"deletebody\">\r\n                Are you sure you want to <span className=\"bold\"> delete </span>{\" \"}\r\n                this order, this action is\r\n                <span className=\"bold\"> irreversible</span>\r\n              </span>\r\n\r\n              <button\r\n                variant=\"primary\"\r\n                onClick={this.deleteComment}\r\n                className=\"deleteorder mt-3\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </Modal.Body>\r\n          </Modal>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <Navbar />\r\n          <div className=\"container mt-5\">\r\n            <h2>You must be logged in to see your orders</h2>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}