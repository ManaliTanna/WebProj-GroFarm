{"ast":null,"code":"var _jsxFileName = \"C:\\\\MANALI\\\\PES\\\\SEM3\\\\WebTech\\\\MERN-project\\\\src\\\\components\\\\allusers.component.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../../src/index.css\";\nimport Navbar from \"./navbar.component\";\nimport { getFromStorage } from \"../utils/storage\";\n\nconst User = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"alluser-card mb-3 mr-2 ml-2\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-md-4 pl-0\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  src: \"/userpics/\" + props.user.photo,\n  class: \"user-image mr-3\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 7\n  }\n})), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-md-8\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"h5\", {\n  className: \"card-title mb-3 bold\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 7\n  }\n}, props.user.username), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-md-12 d-flex justify-content-between mb-4 pl-0\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \" d-flex bgray align-items-center\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: \"location mb-0 mr-1\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 11\n  }\n}), /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 11\n  }\n}, props.user.location)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \" d-flex bgray2 align-items-center justify-content-end\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 11\n  }\n}, props.user.score), /*#__PURE__*/React.createElement(\"p\", {\n  className: \"tomato mb-0 ml-2\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 11\n  }\n}))), /*#__PURE__*/React.createElement(Link, {\n  className: \"viewfarmer w-100\",\n  to: \"/user/\" + props.user._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 7\n  }\n}, \"View Farmer\")));\n\nexport default class ExercisesList extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearch = this.onChangeSearch.bind(this);\n    this.onChangeRating = this.onChangeRating.bind(this);\n    this.state = {\n      users: [],\n      originalusers: [],\n      cookie: \"\",\n      rating: \"\",\n      type: \"\"\n    };\n  }\n\n  componentDidMount() {\n    try {\n      const {\n        cookie\n      } = getFromStorage(\"the_main_app\");\n      this.setState({\n        cookie: cookie\n      });\n    } catch {}\n\n    axios.get(\"http://localhost:5000/Users/allusers\").then(response => {\n      this.setState({\n        users: response.data,\n        originalusers: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onChangeSearch(e) {\n    let users = this.state.originalusers;\n    this.setState({\n      type: e.target.value\n    });\n\n    if (e.target.value == \"\") {\n      this.setState({\n        rating: \"\",\n        users: this.state.originalusers\n      });\n    } else {\n      console.log(e.target.value.toLowerCase());\n      this.setState({\n        rating: \"\",\n        users: users.filter(p => {\n          return p.username.toLowerCase().includes(e.target.value.toLowerCase());\n        })\n      });\n    }\n  }\n\n  onChangeRating(e) {\n    this.setState({\n      rating: e.target.value\n    });\n\n    if (e.target.value == \"\") {\n      this.setState({\n        type: \"\",\n        users: this.state.originalusers\n      });\n      console.log(\"EMPtY\");\n    } else {\n      if (e.target.value == \"Lower to higher\") {\n        this.setState({\n          users: this.state.originalusers\n        });\n        this.state.users.sort((a, b) => a.score - b.score);\n      } else {\n        this.setState({\n          users: this.state.originalusers\n        });\n        this.state.users.sort((a, b) => b.score - a.score);\n      }\n    }\n  }\n\n  userList() {\n    return this.state.users.map(currentuser => {\n      console.log(currentuser);\n\n      if (this.state.cookie) {\n        if (currentuser._id != this.state.cookie._id) {\n          return /*#__PURE__*/React.createElement(User, {\n            user: currentuser,\n            key: currentuser._id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 18\n            }\n          });\n        }\n      } else {\n        return /*#__PURE__*/React.createElement(User, {\n          user: currentuser,\n          key: currentuser._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 16\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gray\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-5 d-flex align-items-center justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row d-flex align-items-center justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, \"Farmers\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row d-flex align-items-center justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control search-form ml-4 mr-4\",\n      placeholder: \"Search user...\",\n      value: this.state.type,\n      onChange: this.onChangeSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, \"Rating : \"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.onChangeRating,\n      value: this.state.rating,\n      className: \"ml-4 mr-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, \"Lower to higher\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, \"Higher to lower\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }, this.userList())));\n  }\n\n}","map":{"version":3,"sources":["C:/MANALI/PES/SEM3/WebTech/MERN-project/src/components/allusers.component.js"],"names":["React","Component","Link","axios","Navbar","getFromStorage","User","props","user","photo","username","location","score","_id","ExercisesList","constructor","onChangeSearch","bind","onChangeRating","state","users","originalusers","cookie","rating","type","componentDidMount","setState","get","then","response","data","catch","error","console","log","e","target","value","toLowerCase","filter","p","includes","sort","a","b","userList","map","currentuser","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"../../src/index.css\";\r\nimport Navbar from \"./navbar.component\";\r\nimport { getFromStorage } from \"../utils/storage\";\r\n\r\nconst User = (props) => (\r\n  <div className=\"alluser-card mb-3 mr-2 ml-2\">\r\n    <div className=\"col-md-4 pl-0\">\r\n      <img src={\"/userpics/\" + props.user.photo} class=\"user-image mr-3\" />\r\n    </div>\r\n    <div className=\"col-md-8\">\r\n      <h5 className=\"card-title mb-3 bold\">{props.user.username}</h5>\r\n      <div className=\"col-md-12 d-flex justify-content-between mb-4 pl-0\">\r\n        <div className=\" d-flex bgray align-items-center\">\r\n          <p className=\"location mb-0 mr-1\"></p>\r\n          <span>{props.user.location}</span>\r\n        </div>\r\n\r\n        <div className=\" d-flex bgray2 align-items-center justify-content-end\">\r\n          <span>{props.user.score}</span>\r\n          <p className=\"tomato mb-0 ml-2\"></p>\r\n        </div>\r\n      </div>\r\n\r\n      <Link className=\"viewfarmer w-100\" to={\"/user/\" + props.user._id}>\r\n        View Farmer\r\n      </Link>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default class ExercisesList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangeSearch = this.onChangeSearch.bind(this);\r\n    this.onChangeRating = this.onChangeRating.bind(this);\r\n    this.state = {\r\n      users: [],\r\n      originalusers: [],\r\n      cookie: \"\",\r\n      rating: \"\",\r\n      type: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    try {\r\n      const { cookie } = getFromStorage(\"the_main_app\");\r\n      this.setState({\r\n        cookie: cookie,\r\n      });\r\n    } catch {}\r\n\r\n    axios\r\n      .get(\"http://localhost:5000/Users/allusers\")\r\n      .then((response) => {\r\n        this.setState({ users: response.data, originalusers: response.data });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onChangeSearch(e) {\r\n    let users = this.state.originalusers;\r\n    this.setState({\r\n      type: e.target.value,\r\n    });\r\n    if (e.target.value == \"\") {\r\n      this.setState({\r\n        rating: \"\",\r\n        users: this.state.originalusers,\r\n      });\r\n    } else {\r\n      console.log(e.target.value.toLowerCase());\r\n      this.setState({\r\n        rating: \"\",\r\n        users: users.filter((p) => {\r\n          return p.username\r\n            .toLowerCase()\r\n            .includes(e.target.value.toLowerCase());\r\n        }),\r\n      });\r\n    }\r\n  }\r\n\r\n  onChangeRating(e) {\r\n    this.setState({\r\n      rating: e.target.value,\r\n\r\n    });\r\n    if (e.target.value == \"\") {\r\n      this.setState({\r\n        type: \"\",\r\n        users: this.state.originalusers,\r\n      });\r\n      console.log(\"EMPtY\");\r\n    } else {\r\n\r\n        if (e.target.value == \"Lower to higher\") {\r\n          this.setState({\r\n            users: this.state.originalusers,\r\n          });\r\n          this.state.users.sort((a, b) => a.score - b.score);\r\n        } else {\r\n          this.setState({\r\n            users: this.state.originalusers,\r\n          });\r\n          this.state.users.sort((a, b) => b.score - a.score);\r\n        }\r\n      \r\n    }\r\n  }\r\n\r\n  userList() {\r\n    return this.state.users.map((currentuser) => {\r\n      console.log(currentuser);\r\n      if (this.state.cookie) {\r\n        if (currentuser._id != this.state.cookie._id) {\r\n          return <User user={currentuser} key={currentuser._id} />;\r\n        }\r\n      } else {\r\n        return <User user={currentuser} key={currentuser._id} />;\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"gray\">\r\n        <Navbar />\r\n        <div className=\"container mt-5\">\r\n          <div className=\"row mb-5 d-flex align-items-center justify-content-between\">\r\n            <div className=\"row d-flex align-items-center justify-content-between\">\r\n              <h3>Farmers</h3>\r\n            </div>\r\n            <div className=\"row d-flex align-items-center justify-content-between\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control search-form ml-4 mr-4\"\r\n                placeholder=\"Search user...\"\r\n                value={this.state.type}\r\n                onChange={this.onChangeSearch}\r\n              />\r\n              <span>Rating : </span>\r\n\r\n              <select\r\n                onChange={this.onChangeRating}\r\n                value={this.state.rating}\r\n                className=\"ml-4 mr-4\"\r\n              >\r\n                <option></option>\r\n                <option>Lower to higher</option>\r\n                <option>Higher to lower</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"row\">{this.userList()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}